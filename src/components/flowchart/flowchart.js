import G6 from '@antv/g6';

G6.registerNode('customNode', {
  anchor: [
    [0.5, 1],
    [0.5, 0],
    [1, 0.5],
    [0, 0.5]
  ],
  draw(item){
    const group = item.getGraphicGroup()
    const model = item.getModel()
    // group.addShape('path',{
    //   attrs: {
    //     x: 0,
    //     y: 0,
    //     d: "M629.39164 480.967472l-163.616428 163.616428c-7.992021 7.992021-20.947078 7.992021-28.939099 0-7.992021-8.002254-7.992021-20.957311 0-28.949332l128.680754-128.680754-175.548178 0L389.968689 711.917448c0 11.2973-9.168824 20.466124-20.466124 20.466124L21.813818 732.383572c-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-818.08214c0-11.307533 9.15859-20.466124 20.466124-20.466124l593.108273 0c11.307533 0 20.466124 9.15859 20.466124 20.466124L635.388215 466.487689C635.388215 471.921445 633.229039 477.119841 629.39164 480.967472zM594.455967-85.698568l-552.176025 0L42.279942 691.451324l306.756499 0 0-224.963635c0-11.2973 9.15859-20.466124 20.466124-20.466124l224.953402 0L594.455967-85.698568zM1023.978511 630.104117l0-572.652382c0-11.307533-9.15859-20.466124-20.466124-20.466124l-307.86167 0c-11.2973 0-20.466124 9.15859-20.466124 20.466124 0 11.2973 9.168824 20.466124 20.466124 20.466124l287.395546 0L983.046263 609.637993l-224.953402 0c-11.307533 0-20.466124 9.168824-20.466124 20.466124L737.626737 855.067752l-306.756499 0 0-75.693959c0-11.307533-9.168824-20.466124-20.466124-20.466124-11.307533 0-20.466124 9.15859-20.466124 20.466124L389.93799 875.533876c0 11.2973 9.15859 20.466124 20.466124 20.466124l347.688747 0c11.2973 0 20.466124-9.168824 20.466124-20.466124l0-224.963635 175.548178 0-128.680754 128.680754c-7.992021 7.992021-7.992021 20.947078 0 28.949332 7.992021 7.992021 20.947078 7.992021 28.939099 0l163.616428-163.626661C1021.819334 640.736269 1023.978511 635.537873 1023.978511 630.104117z",
    //     stroke: '#37ABFD',
    //     lineWidth: "3"
    //   }
    // })
    group.addShape('rect', {
      attrs: {
        x: 0,
        y: 0,
        width: model.width,
        height: model.height,
        stroke: '#37ABFD',
        fill: model.isRun ? '#37ABFD' : '',
        radius: 4
      }
    })
    group.addShape('image', {
      attrs: {
        x: 8,
        y: model.height / 2 - 12,
        width: 40,
        height: 24,
        img: '/img/logo.82b9c7a5.png'
      }
    })
    group.addShape('text', {
      attrs: {
        x: model.width / 2 + 10,
        y: model.height / 2,
        fill: model.isRun ? '#fff' : '#000',
        text: model.text,
        textAlign: 'center',
        textBaseline: 'middle'
      }
    })
    return group
  }
})


G6.registerNode('startIcon', {
  draw(item){
    const group = item.getGraphicGroup()
    // const model = item.getModel()
    group.addShape('path',{
      attrs: {
        d: "M629.39164 480.967472l-163.616428 163.616428c-7.992021 7.992021-20.947078 7.992021-28.939099 0-7.992021-8.002254-7.992021-20.957311 0-28.949332l128.680754-128.680754-175.548178 0L389.968689 711.917448c0 11.2973-9.168824 20.466124-20.466124 20.466124L21.813818 732.383572c-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-818.08214c0-11.307533 9.15859-20.466124 20.466124-20.466124l593.108273 0c11.307533 0 20.466124 9.15859 20.466124 20.466124L635.388215 466.487689C635.388215 471.921445 633.229039 477.119841 629.39164 480.967472zM594.455967-85.698568l-552.176025 0L42.279942 691.451324l306.756499 0 0-224.963635c0-11.2973 9.15859-20.466124 20.466124-20.466124l224.953402 0L594.455967-85.698568zM1023.978511 630.104117l0-572.652382c0-11.307533-9.15859-20.466124-20.466124-20.466124l-307.86167 0c-11.2973 0-20.466124 9.15859-20.466124 20.466124 0 11.2973 9.168824 20.466124 20.466124 20.466124l287.395546 0L983.046263 609.637993l-224.953402 0c-11.307533 0-20.466124 9.168824-20.466124 20.466124L737.626737 855.067752l-306.756499 0 0-75.693959c0-11.307533-9.168824-20.466124-20.466124-20.466124-11.307533 0-20.466124 9.15859-20.466124 20.466124L389.93799 875.533876c0 11.2973 9.15859 20.466124 20.466124 20.466124l347.688747 0c11.2973 0 20.466124-9.168824 20.466124-20.466124l0-224.963635 175.548178 0-128.680754 128.680754c-7.992021 7.992021-7.992021 20.947078 0 28.949332 7.992021 7.992021 20.947078 7.992021 28.939099 0l163.616428-163.626661C1021.819334 640.736269 1023.978511 635.537873 1023.978511 630.104117z"
      }
    })
    return group
  }
})